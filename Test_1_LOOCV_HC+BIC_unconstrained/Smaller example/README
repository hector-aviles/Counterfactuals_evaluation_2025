

Rscript ./integrated_LOOCV_training.R ./training_data_01_fold_1.csv ./cBN.pl


WhatIf -q latent_collision -e action\(cruise\),True -e free_NE,False -e latent_collision,True  -i action\(cruise\),False -i action\(keep\),True  ./cBN.pl

[WARNING] aspmc: Query for atom true was proven true during grounding.
[WARNING] aspmc: Including it has a negative impact on performance.
[INFO] aspmc: Tree Decomposition #bags: 28 unfolded treewidth: 4 #vertices: 31
[INFO] aspmc: Preprocessing disabled
[INFO] aspmc:    Stats Compilation
[INFO] aspmc: ------------------------------------------------------------
[INFO] aspmc: Compilation time:         0.004707813262939453
[INFO] aspmc: Counting time:            0.0005617141723632812
[INFO] aspmc: ------------------------------------------------------------
[INFO] WhatIf:    Results
[INFO] WhatIf: ------------------------------------------------------------
[RESULT] WhatIf: latent_collision:     0.000999

WhatIf -q latent_collision -e action\(cruise\),True -e free_NE,False -e latent_collision,True  -i action\(cruise\),True -i action\(keep\),False  ./cBN.pl

[WARNING] aspmc: Query for atom true was proven true during grounding.
[WARNING] aspmc: Including it has a negative impact on performance.
[INFO] aspmc: Tree Decomposition #bags: 28 unfolded treewidth: 4 #vertices: 31
[INFO] aspmc: Preprocessing disabled
[INFO] aspmc:    Stats Compilation
[INFO] aspmc: ------------------------------------------------------------
[INFO] aspmc: Compilation time:         0.004133701324462891
[INFO] aspmc: Counting time:            0.0012385845184326172
[INFO] aspmc: ------------------------------------------------------------
[INFO] WhatIf:    Results
[INFO] WhatIf: ------------------------------------------------------------
[RESULT] WhatIf: latent_collision:     1.0
                                      
WhatIf -q latent_collision -e action\(cruise\),True -e free_NE,True -e latent_collision,True  -i action\(cruise\),False -i action\(keep\),True  ./cBN.pl

[WARNING] aspmc: Query for atom true was proven true during grounding.
[WARNING] aspmc: Including it has a negative impact on performance.
[INFO] aspmc: Tree Decomposition #bags: 28 unfolded treewidth: 4 #vertices: 31
[INFO] aspmc: Preprocessing disabled
[INFO] aspmc:    Stats Compilation
[INFO] aspmc: ------------------------------------------------------------
[INFO] aspmc: Compilation time:         0.004575967788696289
[INFO] aspmc: Counting time:            0.0005781650543212891
[INFO] aspmc: ------------------------------------------------------------
[INFO] WhatIf:    Results
[INFO] WhatIf: ------------------------------------------------------------
[RESULT] WhatIf: latent_collision:     0.000999
                                      
WhatIf -q latent_collision -e action\(cruise\),True -e free_NE,True -e latent_collision,True  -i action\(cruise\),True -i action\(keep\),False ./cBN.pl

[WARNING] aspmc: Query for atom true was proven true during grounding.
[WARNING] aspmc: Including it has a negative impact on performance.
[INFO] aspmc: Tree Decomposition #bags: 28 unfolded treewidth: 4 #vertices: 31
[INFO] aspmc: Preprocessing disabled
[INFO] aspmc:    Stats Compilation
[INFO] aspmc: ------------------------------------------------------------
[INFO] aspmc: Compilation time:         0.004633903503417969
[INFO] aspmc: Counting time:            0.0005621910095214844
[INFO] aspmc: ------------------------------------------------------------
[INFO] WhatIf:    Results
[INFO] WhatIf: ------------------------------------------------------------
[RESULT] WhatIf: latent_collision:     1.0



###################################################
### Using abduction -> action -> prediction
###################################################

###################################################
1. Abduction
###################################################

%%%%%%%%%%%%%%%%%%%%%%%%%%
% Probabilistic facts (shared exogenous variables)
%%%%%%%%%%%%%%%%%%%%%%%%%%

0.4663543::u1_prior.
free_NE_e :- u1_prior.

%%%%%%%%%%%%%%%%%%%%%%%%%%
% Factual Network (Evidence World, suffix _e)
%%%%%%%%%%%%%%%%%%%%%%%%%%

% Action rules for factual world
0.331501::action_e(cruise); 0.668499::action_e(keep) :- \+ free_NE_e. 
0.9394403::action_e(cruise); 0.060559::action_e(keep) :- free_NE_e. 

% Latent collision rules for factual world
0.5765706::latent_collision_e :- action_e(cruise), \+ free_NE_e. 
0.000999001::latent_collision_e :- action_e(keep), \+ free_NE_e. 
0.07739487::latent_collision_e :- action_e(cruise), free_NE_e. 
0.000999001::latent_collision_e :- action_e(keep), free_NE_e. 

evidence(action_e(cruise),true).
evidence(free_NE_e,false). 
evidence(latent_collision_e,true).  

query(u1_prior). 

Preliminary result: prob(u1_prior) = 0, but we will set u1_post = 0.00000001

#####################################################
2. Action 
#####################################################

%%%%%%%%%%%%%%%%%%%%%%%%%%
% Probabilistic facts (shared exogenous variables)
%%%%%%%%%%%%%%%%%%%%%%%%%%

0.00000001::u1_post.
free_NE_e :- u1_post.

%%%%%%%%%%%%%%%%%%%%%%%%%%
% Factual Network (Evidence World, suffix _e)
%%%%%%%%%%%%%%%%%%%%%%%%%%

% Action rules for factual world
0.331501::action_e(cruise); 0.668499::action_e(keep) :- \+ free_NE_e. 
0.9394403::action_e(cruise); 0.060559::action_e(keep) :- free_NE_e. 

% Latent collision rules for factual world
0.5765706::latent_collision_e :- action_e(cruise), \+ free_NE_e. 
0.000999001::latent_collision_e :- action_e(keep), \+ free_NE_e. 
0.07739487::latent_collision_e :- action_e(cruise), free_NE_e. 
0.000999001::latent_collision_e :- action_e(keep), free_NE_e. 

%%%%%%%%%%%%%%%%%%%%%%%%%%
% Counterfactual Network (Intervention World, suffix _i)
%%%%%%%%%%%%%%%%%%%%%%%%%%

free_NE_i :- u1.

% Action rules becomes:
action_i(keep).

% Latent collision rules for factual world
0.5765706::latent_collision_i :- action_i(cruise), \+ free_NE_i. 
0.000999001::latent_collision_i :- action_i(keep), \+ free_NE_i. 
0.07739487::latent_collision_i :- action_i(cruise), free_NE_i. 
0.000999001::latent_collision_i :- action_i(keep), free_NE_i. 

%%%%%%%%%%%%%%%%%%%%%%%%%%
% Example Queries (uncomment to use)
%%%%%%%%%%%%%%%%%%%%%%%%%%

% 3. Prediction 
query(latent_collision_i). 

Final result:  p(latent_collision_i) = 0.000999001

