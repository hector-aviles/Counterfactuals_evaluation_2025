corrida 1: funciono
roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/b4533a0e-c922-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1798601.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:43301/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1798632]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to b4533a0e-c922-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1798665]
started core service [/rosout]
process[webots-2]: started with pid [1798668]
process[lane_detector-3]: started with pid [1798670]
process[obstacle_detector-4]: started with pid [1798680]
process[behaviors-5]: started with pid [1798689]
process[crash_detector-6]: started with pid [1798699]
process[stop-7]: started with pid [1798713]
process[lane_identification-8]: started with pid [1798728]
process[latent_collision_detector-9]: started with pid [1798740]
process[car_to_lidar-10]: started with pid [1798759]
process[car_to_camera-11]: started with pid [1798787]
process[car_to_gyro-12]: started with pid [1798820]
process[car_to_accelerometer-13]: started with pid [1798841]
process[car_to_gps-14]: started with pid [1798877]
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting steady motion
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done
-------------------
rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

*******************

corrida 2: funciono
roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/bd94eba2-c923-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1800651.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:34587/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1800682]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to bd94eba2-c923-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1800715]
started core service [/rosout]
process[webots-2]: started with pid [1800718]
process[lane_detector-3]: started with pid [1800722]
process[obstacle_detector-4]: started with pid [1800729]
process[behaviors-5]: started with pid [1800733]
process[crash_detector-6]: started with pid [1800748]
process[stop-7]: started with pid [1800758]
process[lane_identification-8]: started with pid [1800770]
process[latent_collision_detector-9]: started with pid [1800793]
process[car_to_lidar-10]: started with pid [1800810]
process[car_to_camera-11]: started with pid [1800847]
process[car_to_gyro-12]: started with pid [1800871]
process[car_to_accelerometer-13]: started with pid [1800896]
process[car_to_gps-14]: started with pid [1800941]
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting steady motion
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_gyro-12] killing on exit
[car_to_accelerometer-13] killing on exit
[latent_collision_detector-9] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done
----------------------
rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

*************************

corrida 3: funciono
roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/21975cba-c94d-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1805736.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:38883/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1805767]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 21975cba-c94d-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1805800]
started core service [/rosout]
process[webots-2]: started with pid [1805803]
process[lane_detector-3]: started with pid [1805808]
process[obstacle_detector-4]: started with pid [1805810]
process[behaviors-5]: started with pid [1805824]
process[crash_detector-6]: started with pid [1805833]
process[stop-7]: started with pid [1805851]
process[lane_identification-8]: started with pid [1805864]
process[latent_collision_detector-9]: started with pid [1805879]
process[car_to_lidar-10]: started with pid [1805903]
process[car_to_camera-11]: started with pid [1805939]
process[car_to_gyro-12]: started with pid [1805964]
process[car_to_accelerometer-13]: started with pid [1805983]
process[car_to_gps-14]: started with pid [1806016]
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING CRASH_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting steady motion
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done
--------------------
rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
***************
corrida 4: funciono (marco mensaje en rojo en primer terminal al cerrarse)
roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/18a2fade-c95b-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1808590.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:35951/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1808622]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 18a2fade-c95b-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1808655]
started core service [/rosout]
process[webots-2]: started with pid [1808658]
process[lane_detector-3]: started with pid [1808659]
process[obstacle_detector-4]: started with pid [1808669]
process[behaviors-5]: started with pid [1808674]
process[crash_detector-6]: started with pid [1808688]
process[stop-7]: started with pid [1808701]
process[lane_identification-8]: started with pid [1808711]
process[latent_collision_detector-9]: started with pid [1808734]
process[car_to_lidar-10]: started with pid [1808762]
process[car_to_camera-11]: started with pid [1808787]
process[car_to_gyro-12]: started with pid [1808810]
process[car_to_accelerometer-13]: started with pid [1808837]
process[car_to_gps-14]: started with pid [1808872]
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting steady motion
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
^C[latent_collision_detector-9] escalating to SIGTERM
[latent_collision_detector-9] escalating to SIGKILL
[rosout-1] killing on exit
[master] killing on exit
Shutdown errors:
 * process[latent_collision_detector-9, pid 1808734]: required SIGKILL. May still be running.
shutting down processing monitor...
... shutting down processing monitor complete
done

------------------------
rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

***********************************

corrida 5: funciono 
roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/bd18749a-c95b-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1810387.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:33383/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1810418]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to bd18749a-c95b-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1810451]
started core service [/rosout]
process[webots-2]: started with pid [1810454]
process[lane_detector-3]: started with pid [1810456]
process[obstacle_detector-4]: started with pid [1810466]
process[behaviors-5]: started with pid [1810475]
process[crash_detector-6]: started with pid [1810485]
process[stop-7]: started with pid [1810499]
process[lane_identification-8]: started with pid [1810515]
process[latent_collision_detector-9]: started with pid [1810540]
process[car_to_lidar-10]: started with pid [1810568]
process[car_to_camera-11]: started with pid [1810601]
process[car_to_gyro-12]: started with pid [1810627]
process[car_to_accelerometer-13]: started with pid [1810657]
process[car_to_gps-14]: started with pid [1810685]
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting steady motion
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done
--------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
**********************

corrida 6: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/e142d9b8-c95c-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1812222.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:44477/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1812253]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to e142d9b8-c95c-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1812286]
started core service [/rosout]
process[webots-2]: started with pid [1812289]
process[lane_detector-3]: started with pid [1812293]
process[obstacle_detector-4]: started with pid [1812297]
process[behaviors-5]: started with pid [1812306]
process[crash_detector-6]: started with pid [1812321]
process[stop-7]: started with pid [1812336]
process[lane_identification-8]: started with pid [1812345]
process[latent_collision_detector-9]: started with pid [1812368]
process[car_to_lidar-10]: started with pid [1812394]
process[car_to_camera-11]: started with pid [1812421]
process[car_to_gyro-12]: started with pid [1812447]
process[car_to_accelerometer-13]: started with pid [1812473]
process[car_to_gps-14]: started with pid [1812501]
INITIALIZING CRASH_DETECTOR...
INITIALIZING STOP NODE...
INFO: cannot create a symlink to latest log directory: [Errno 17] File exists: '/home/robocup/.ros/log/e142d9b8-c95c-11ef-adc8-39205c988c9a' -> '/home/robocup/.ros/log/latest'
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Obstacle stationary ahead
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done
---------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision True {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

*******************************

corrida 7: funciono
roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/9e2ada84-c95e-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1814109.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:37489/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1814140]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 9e2ada84-c95e-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1814173]
started core service [/rosout]
process[webots-2]: started with pid [1814176]
process[lane_detector-3]: started with pid [1814177]
process[obstacle_detector-4]: started with pid [1814188]
process[behaviors-5]: started with pid [1814198]
process[crash_detector-6]: started with pid [1814209]
process[stop-7]: started with pid [1814222]
process[lane_identification-8]: started with pid [1814239]
process[latent_collision_detector-9]: started with pid [1814258]
process[car_to_lidar-10]: started with pid [1814286]
process[car_to_camera-11]: started with pid [1814316]
process[car_to_gyro-12]: started with pid [1814343]
process[car_to_accelerometer-13]: started with pid [1814375]
process[car_to_gps-14]: started with pid [1814411]
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Obstacle stationary ahead
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[lane_identification-8] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[car_to_camera-11] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done
--------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision True {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
*******************************

corrida 8: funciono
roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/09e1b0a8-c960-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1815970.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:35903/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1816001]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 09e1b0a8-c960-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1816034]
started core service [/rosout]
process[webots-2]: started with pid [1816037]
process[lane_detector-3]: started with pid [1816038]
process[obstacle_detector-4]: started with pid [1816044]
process[behaviors-5]: started with pid [1816057]
process[crash_detector-6]: started with pid [1816064]
process[stop-7]: started with pid [1816081]
process[lane_identification-8]: started with pid [1816098]
process[latent_collision_detector-9]: started with pid [1816115]
process[car_to_lidar-10]: started with pid [1816131]
process[car_to_camera-11]: started with pid [1816168]
process[car_to_gyro-12]: started with pid [1816198]
process[car_to_accelerometer-13]: started with pid [1816230]
process[car_to_gps-14]: started with pid [1816265]
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING CRASH_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Obstacle stationary ahead
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting change lane on left
Aborting changing lane 210 True False
Starting steady motion
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done
----------------------------
rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

****************************

corrida 9: funciono
roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/4c7fca08-c960-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1817745.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:43323/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1817776]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 4c7fca08-c960-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1817809]
started core service [/rosout]
process[webots-2]: started with pid [1817812]
process[lane_detector-3]: started with pid [1817813]
process[obstacle_detector-4]: started with pid [1817824]
process[behaviors-5]: started with pid [1817833]
process[crash_detector-6]: started with pid [1817841]
process[stop-7]: started with pid [1817856]
process[lane_identification-8]: started with pid [1817863]
process[latent_collision_detector-9]: started with pid [1817883]
process[car_to_lidar-10]: started with pid [1817897]
process[car_to_camera-11]: started with pid [1817924]
process[car_to_gyro-12]: started with pid [1817948]
process[car_to_accelerometer-13]: started with pid [1817981]
process[car_to_gps-14]: started with pid [1818017]
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Obstacle stationary ahead
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting change lane on left
Aborting changing lane 210 True False
Starting steady motion
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done
-----------------------------------
rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

*********************************

corrida 10: funciono
roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/c5259258-c960-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1819531.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:46377/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1819562]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to c5259258-c960-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1819595]
started core service [/rosout]
process[webots-2]: started with pid [1819598]
process[lane_detector-3]: started with pid [1819602]
process[obstacle_detector-4]: started with pid [1819609]
process[behaviors-5]: started with pid [1819618]
process[crash_detector-6]: started with pid [1819624]
process[stop-7]: started with pid [1819639]
process[lane_identification-8]: started with pid [1819652]
process[latent_collision_detector-9]: started with pid [1819672]
process[car_to_lidar-10]: started with pid [1819696]
process[car_to_camera-11]: started with pid [1819724]
process[car_to_gyro-12]: started with pid [1819752]
process[car_to_accelerometer-13]: started with pid [1819779]
process[car_to_gps-14]: started with pid [1819810]
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING STOP NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Obstacle stationary ahead
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
***************************************

corrida 11: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/05bae93a-c961-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1821303.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:39269/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1821334]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 05bae93a-c961-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1821367]
started core service [/rosout]
process[webots-2]: started with pid [1821370]
process[lane_detector-3]: started with pid [1821371]
process[obstacle_detector-4]: started with pid [1821381]
process[behaviors-5]: started with pid [1821389]
process[crash_detector-6]: started with pid [1821398]
process[stop-7]: started with pid [1821413]
process[lane_identification-8]: started with pid [1821419]
process[latent_collision_detector-9]: started with pid [1821443]
process[car_to_lidar-10]: started with pid [1821457]
process[car_to_camera-11]: started with pid [1821494]
process[car_to_gyro-12]: started with pid [1821521]
process[car_to_accelerometer-13]: started with pid [1821552]
process[car_to_gps-14]: started with pid [1821581]
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

----------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
**************************************

corrida 12: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/45357350-c961-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1823071.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:37367/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1823102]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 45357350-c961-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1823135]
started core service [/rosout]
process[webots-2]: started with pid [1823138]
process[lane_detector-3]: started with pid [1823142]
process[obstacle_detector-4]: started with pid [1823144]
process[behaviors-5]: started with pid [1823157]
process[crash_detector-6]: started with pid [1823163]
process[stop-7]: started with pid [1823180]
process[lane_identification-8]: started with pid [1823190]
process[latent_collision_detector-9]: started with pid [1823207]
process[car_to_lidar-10]: started with pid [1823226]
process[car_to_camera-11]: started with pid [1823257]
process[car_to_gyro-12]: started with pid [1823288]
process[car_to_accelerometer-13]: started with pid [1823330]
process[car_to_gps-14]: started with pid [1823360]
INITIALIZING STOP NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-----------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
****************************************

corrida 13: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/831ef18c-c961-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1824846.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:38549/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1824877]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 831ef18c-c961-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1824910]
started core service [/rosout]
process[webots-2]: started with pid [1824913]
process[lane_detector-3]: started with pid [1824918]
process[obstacle_detector-4]: started with pid [1824926]
process[behaviors-5]: started with pid [1824931]
process[crash_detector-6]: started with pid [1824941]
process[stop-7]: started with pid [1824958]
process[lane_identification-8]: started with pid [1824972]
process[latent_collision_detector-9]: started with pid [1824989]
process[car_to_lidar-10]: started with pid [1825022]
process[car_to_camera-11]: started with pid [1825052]
process[car_to_gyro-12]: started with pid [1825079]
process[car_to_accelerometer-13]: started with pid [1825111]
process[car_to_gps-14]: started with pid [1825147]
INITIALIZING CRASH_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting steady motion
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-----------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

**********************************

corrida 14: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/b89ec4ae-c961-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1826608.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:34119/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1826639]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to b89ec4ae-c961-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1826672]
started core service [/rosout]
process[webots-2]: started with pid [1826675]
process[lane_detector-3]: started with pid [1826680]
process[obstacle_detector-4]: started with pid [1826681]
process[behaviors-5]: started with pid [1826685]
process[crash_detector-6]: started with pid [1826699]
process[stop-7]: started with pid [1826715]
process[lane_identification-8]: started with pid [1826724]
process[latent_collision_detector-9]: started with pid [1826742]
process[car_to_lidar-10]: started with pid [1826768]
process[car_to_camera-11]: started with pid [1826800]
process[car_to_gyro-12]: started with pid [1826832]
process[car_to_accelerometer-13]: started with pid [1826861]
process[car_to_gps-14]: started with pid [1826900]
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING CRASH_DETECTOR...
INITIALIZING STOP NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Obstacle stationary ahead
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting change lane on left
Aborting changing lane 210 True True
Starting steady motion
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

---------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision True {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision False {'curr_lane': True, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

**************************************

corrida 15: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/f2c6e788-c961-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1828382.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:39503/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1828413]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to f2c6e788-c961-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1828446]
started core service [/rosout]
process[webots-2]: started with pid [1828449]
process[lane_detector-3]: started with pid [1828454]
process[obstacle_detector-4]: started with pid [1828462]
process[behaviors-5]: started with pid [1828468]
process[crash_detector-6]: started with pid [1828484]
process[stop-7]: started with pid [1828491]
process[lane_identification-8]: started with pid [1828506]
process[latent_collision_detector-9]: started with pid [1828520]
process[car_to_lidar-10]: started with pid [1828543]
process[car_to_camera-11]: started with pid [1828565]
process[car_to_gyro-12]: started with pid [1828599]
process[car_to_accelerometer-13]: started with pid [1828615]
process[car_to_gps-14]: started with pid [1828659]
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting steady motion
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
**************************************

corrida 16: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/298b978c-c962-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1830147.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:41533/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1830178]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 298b978c-c962-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1830211]
started core service [/rosout]
process[webots-2]: started with pid [1830214]
process[lane_detector-3]: started with pid [1830215]
process[obstacle_detector-4]: started with pid [1830226]
process[behaviors-5]: started with pid [1830235]
process[crash_detector-6]: started with pid [1830244]
process[stop-7]: started with pid [1830256]
process[lane_identification-8]: started with pid [1830274]
process[latent_collision_detector-9]: started with pid [1830289]
process[car_to_lidar-10]: started with pid [1830318]
process[car_to_camera-11]: started with pid [1830341]
process[car_to_gyro-12]: started with pid [1830369]
process[car_to_accelerometer-13]: started with pid [1830398]
process[car_to_gps-14]: started with pid [1830438]
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting steady motion
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Latent collision while changing to left on left lane
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting steady motion
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

--------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
************************************

corrida 17: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/5f9d5464-c962-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1831918.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:42077/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1831949]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 5f9d5464-c962-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1831982]
started core service [/rosout]
process[webots-2]: started with pid [1831985]
process[lane_detector-3]: started with pid [1831989]
process[obstacle_detector-4]: started with pid [1831997]
process[behaviors-5]: started with pid [1832003]
process[crash_detector-6]: started with pid [1832015]
process[stop-7]: started with pid [1832029]
process[lane_identification-8]: started with pid [1832045]
process[latent_collision_detector-9]: started with pid [1832062]
process[car_to_lidar-10]: started with pid [1832091]
process[car_to_camera-11]: started with pid [1832123]
process[car_to_gyro-12]: started with pid [1832152]
process[car_to_accelerometer-13]: started with pid [1832183]
process[car_to_gps-14]: started with pid [1832213]
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-----------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

*****************************************

corrida 18: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/94b8e046-c962-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1833694.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:38959/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1833725]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 94b8e046-c962-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1833758]
started core service [/rosout]
process[webots-2]: started with pid [1833761]
process[lane_detector-3]: started with pid [1833765]
process[obstacle_detector-4]: started with pid [1833771]
process[behaviors-5]: started with pid [1833781]
process[crash_detector-6]: started with pid [1833789]
process[stop-7]: started with pid [1833805]
process[lane_identification-8]: started with pid [1833821]
process[latent_collision_detector-9]: started with pid [1833837]
process[car_to_lidar-10]: started with pid [1833870]
process[car_to_camera-11]: started with pid [1833903]
process[car_to_gyro-12]: started with pid [1833935]
process[car_to_accelerometer-13]: started with pid [1833962]
process[car_to_gps-14]: started with pid [1833984]
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING STOP NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Obstacle stationary ahead
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

---------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

***************************************

corrida 19: funciono
roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/ca543de0-c962-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1835460.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:37939/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1835491]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to ca543de0-c962-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1835524]
started core service [/rosout]
process[webots-2]: started with pid [1835527]
process[lane_detector-3]: started with pid [1835529]
process[obstacle_detector-4]: started with pid [1835539]
process[behaviors-5]: started with pid [1835547]
process[crash_detector-6]: started with pid [1835557]
process[stop-7]: started with pid [1835569]
process[lane_identification-8]: started with pid [1835585]
process[latent_collision_detector-9]: started with pid [1835599]
process[car_to_lidar-10]: started with pid [1835628]
process[car_to_camera-11]: started with pid [1835659]
process[car_to_gyro-12]: started with pid [1835691]
process[car_to_accelerometer-13]: started with pid [1835720]
process[car_to_gps-14]: started with pid [1835750]
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Latent collision while changing to left on left lane
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Latent collision while changing to right on right lane
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
*****************************************

corrida 20: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/fe472c48-c962-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1837226.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:40953/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1837257]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to fe472c48-c962-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1837290]
started core service [/rosout]
process[webots-2]: started with pid [1837293]
process[lane_detector-3]: started with pid [1837294]
process[obstacle_detector-4]: started with pid [1837302]
process[behaviors-5]: started with pid [1837308]
process[crash_detector-6]: started with pid [1837321]
process[stop-7]: started with pid [1837329]
process[lane_identification-8]: started with pid [1837345]
process[latent_collision_detector-9]: started with pid [1837365]
process[car_to_lidar-10]: started with pid [1837388]
process[car_to_camera-11]: started with pid [1837426]
process[car_to_gyro-12]: started with pid [1837458]
process[car_to_accelerometer-13]: started with pid [1837490]
process[car_to_gps-14]: started with pid [1837516]
INITIALIZING STOP NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING CRASH_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INFO: cannot create a symlink to latest log directory: [Errno 2] No such file or directory: '/home/robocup/.ros/log/latest'
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Obstacle stationary ahead
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
****************************************

corrida 21: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/36be6d66-c963-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1838995.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:38437/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1839026]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 36be6d66-c963-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1839059]
started core service [/rosout]
process[webots-2]: started with pid [1839062]
process[lane_detector-3]: started with pid [1839067]
process[obstacle_detector-4]: started with pid [1839075]
process[behaviors-5]: started with pid [1839083]
process[crash_detector-6]: started with pid [1839096]
process[stop-7]: started with pid [1839104]
process[lane_identification-8]: started with pid [1839121]
process[latent_collision_detector-9]: started with pid [1839146]
process[car_to_lidar-10]: started with pid [1839173]
process[car_to_camera-11]: started with pid [1839195]
process[car_to_gyro-12]: started with pid [1839224]
process[car_to_accelerometer-13]: started with pid [1839252]
process[car_to_gps-14]: started with pid [1839289]
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING STOP NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting steady motion
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-----------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
***********************************************

corrida 22: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/6b8d9a58-c963-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1840761.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:33979/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1840792]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 6b8d9a58-c963-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1840825]
started core service [/rosout]
process[webots-2]: started with pid [1840828]
process[lane_detector-3]: started with pid [1840832]
process[obstacle_detector-4]: started with pid [1840834]
process[behaviors-5]: started with pid [1840842]
process[crash_detector-6]: started with pid [1840857]
process[stop-7]: started with pid [1840863]
process[lane_identification-8]: started with pid [1840878]
process[latent_collision_detector-9]: started with pid [1840899]
process[car_to_lidar-10]: started with pid [1840917]
process[car_to_camera-11]: started with pid [1840938]
process[car_to_gyro-12]: started with pid [1840964]
process[car_to_accelerometer-13]: started with pid [1840998]
process[car_to_gps-14]: started with pid [1841032]
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING STOP NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting steady motion
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

*****************************************

corrida 23: no funciono (error de dedo al iniciar la segunda terminal)

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/9d6d935c-c963-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1842530.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:38281/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1842561]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 9d6d935c-c963-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1842594]
started core service [/rosout]
process[webots-2]: started with pid [1842597]
process[lane_detector-3]: started with pid [1842602]
process[obstacle_detector-4]: started with pid [1842610]
process[behaviors-5]: started with pid [1842619]
process[crash_detector-6]: started with pid [1842629]
process[stop-7]: started with pid [1842644]
process[lane_identification-8]: started with pid [1842662]
process[latent_collision_detector-9]: started with pid [1842688]
process[car_to_lidar-10]: started with pid [1842718]
process[car_to_camera-11]: started with pid [1842749]
process[car_to_gyro-12]: started with pid [1842771]
process[car_to_accelerometer-13]: started with pid [1842796]
process[car_to_gps-14]: started with pid [1842814]
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
Traceback (most recent call last):
  File "/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/scripts/behaviors.py", line 583, in <module>
    main()
  File "/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/scripts/behaviors.py", line 301, in main
    msg_left_lane  = rospy.wait_for_message('/demo/left_lane' , Float64MultiArray, timeout=10000)
  File "/opt/ros/noetic/lib/python3/dist-packages/rospy/client.py", line 428, in wait_for_message
    raise rospy.exceptions.ROSInterruptException("rospy shutdown")
rospy.exceptions.ROSInterruptException: rospy shutdown
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
An error occurred getting prediction: Input X contains NaN.
MLPClassifier does not accept missing values encoded as NaN natively. For supervised learning, you might want to consider sklearn.ensemble.HistGradientBoostingClassifier and Regressor which accept missing values encoded as NaNs natively. Alternatively, it is possible to preprocess the data, for instance by using an imputer transformer in a pipeline or drop samples with missing values. See https://scikit-learn.org/stable/modules/impute.html You can find a list of all estimators that handle NaN values at the following page: https://scikit-learn.org/stable/modules/impute.html#estimators-that-handle-nan-values
latent_collision False {'curr_lane': None, 'free_E': None, 'free_NE': None, 'free_NW': None, 'free_SE': None, 'free_SW': None, 'free_W': None} abort= True MLP action=NA
Unknown action= NA
Waiting for the action NA to finish...
*****************************************
corrida 24: funciono
roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/ed627c42-c963-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1843728.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:45761/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1843759]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to ed627c42-c963-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1843792]
started core service [/rosout]
process[webots-2]: started with pid [1843795]
process[lane_detector-3]: started with pid [1843796]
process[obstacle_detector-4]: started with pid [1843803]
process[behaviors-5]: started with pid [1843815]
process[crash_detector-6]: started with pid [1843820]
process[stop-7]: started with pid [1843838]
process[lane_identification-8]: started with pid [1843854]
process[latent_collision_detector-9]: started with pid [1843870]
process[car_to_lidar-10]: started with pid [1843893]
process[car_to_camera-11]: started with pid [1843921]
process[car_to_gyro-12]: started with pid [1843957]
process[car_to_accelerometer-13]: started with pid [1843981]
process[car_to_gps-14]: started with pid [1844014]
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Obstacle stationary ahead
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-------------------------------------------------
rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
************************************

corrida 25: funciono (tardo un poco mas en que el auto avanzara y cuando se cerro la primera terminal marco un mensaje en rojo)

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/4b1fbc32-c964-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1845504.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:33097/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1845535]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 4b1fbc32-c964-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1845568]
started core service [/rosout]
process[webots-2]: started with pid [1845571]
process[lane_detector-3]: started with pid [1845572]
process[obstacle_detector-4]: started with pid [1845582]
process[behaviors-5]: started with pid [1845592]
process[crash_detector-6]: started with pid [1845606]
process[stop-7]: started with pid [1845620]
process[lane_identification-8]: started with pid [1845637]
process[latent_collision_detector-9]: started with pid [1845658]
process[car_to_lidar-10]: started with pid [1845686]
process[car_to_camera-11]: started with pid [1845712]
process[car_to_gyro-12]: started with pid [1845742]
process[car_to_accelerometer-13]: started with pid [1845767]
process[car_to_gps-14]: started with pid [1845794]
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING CRASH_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Obstacle stationary ahead
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting change lane on left
Aborting changing lane 210 True True
Starting steady motion
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[ERROR] [1735861864.508689]: bad callback: <function callback_accelerometer at 0x7f68c4ffeca0>
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/python3/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/scripts/crash_detector.py", line 29, in callback_accelerometer
    pub_success.publish(success)
  File "/opt/ros/noetic/lib/python3/dist-packages/rospy/topics.py", line 882, in publish
    self.impl.publish(data)
  File "/opt/ros/noetic/lib/python3/dist-packages/rospy/topics.py", line 1041, in publish
    raise ROSException("publish() to a closed topic")
rospy.exceptions.ROSException: publish() to a closed topic

[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

---------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision False {'curr_lane': True, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

******************************************

corrida 26: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/d090d3f6-c964-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1847301.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:45415/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1847332]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to d090d3f6-c964-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1847365]
started core service [/rosout]
process[webots-2]: started with pid [1847368]
process[lane_detector-3]: started with pid [1847369]
process[obstacle_detector-4]: started with pid [1847376]
process[behaviors-5]: started with pid [1847388]
process[crash_detector-6]: started with pid [1847399]
process[stop-7]: started with pid [1847410]
process[lane_identification-8]: started with pid [1847428]
process[latent_collision_detector-9]: started with pid [1847448]
process[car_to_lidar-10]: started with pid [1847474]
process[car_to_camera-11]: started with pid [1847500]
process[car_to_gyro-12]: started with pid [1847528]
process[car_to_accelerometer-13]: started with pid [1847557]
process[car_to_gps-14]: started with pid [1847588]
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Obstacle stationary ahead
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

----------------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

************************************

corrida 27: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/6bdcbfdc-c965-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1850871.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:34871/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1850902]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 6bdcbfdc-c965-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1850935]
started core service [/rosout]
process[webots-2]: started with pid [1850938]
process[lane_detector-3]: started with pid [1850939]
process[obstacle_detector-4]: started with pid [1850946]
process[behaviors-5]: started with pid [1850957]
process[crash_detector-6]: started with pid [1850964]
process[stop-7]: started with pid [1850976]
process[lane_identification-8]: started with pid [1850995]
process[latent_collision_detector-9]: started with pid [1851015]
process[car_to_lidar-10]: started with pid [1851042]
process[car_to_camera-11]: started with pid [1851071]
process[car_to_gyro-12]: started with pid [1851102]
process[car_to_accelerometer-13]: started with pid [1851137]
process[car_to_gps-14]: started with pid [1851175]
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

----------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

************************

corrida 28: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/fb46372a-c965-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1852780.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:39379/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1852811]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to fb46372a-c965-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1852844]
started core service [/rosout]
process[webots-2]: started with pid [1852847]
process[lane_detector-3]: started with pid [1852849]
process[obstacle_detector-4]: started with pid [1852859]
process[behaviors-5]: started with pid [1852868]
process[crash_detector-6]: started with pid [1852876]
process[stop-7]: started with pid [1852887]
process[lane_identification-8]: started with pid [1852897]
process[latent_collision_detector-9]: started with pid [1852922]
process[car_to_lidar-10]: started with pid [1852939]
process[car_to_camera-11]: started with pid [1852969]
process[car_to_gyro-12]: started with pid [1852992]
process[car_to_accelerometer-13]: started with pid [1853018]
process[car_to_gps-14]: started with pid [1853058]
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING STOP NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Obstacle stationary ahead
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

--------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
***********************************************

corrida 29: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/33e830e2-c966-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1854552.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:40393/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1854583]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 33e830e2-c966-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1854616]
started core service [/rosout]
process[webots-2]: started with pid [1854619]
process[lane_detector-3]: started with pid [1854620]
process[obstacle_detector-4]: started with pid [1854624]
process[behaviors-5]: started with pid [1854638]
process[crash_detector-6]: started with pid [1854646]
process[stop-7]: started with pid [1854658]
process[lane_identification-8]: started with pid [1854672]
process[latent_collision_detector-9]: started with pid [1854682]
process[car_to_lidar-10]: started with pid [1854706]
process[car_to_camera-11]: started with pid [1854723]
process[car_to_gyro-12]: started with pid [1854763]
process[car_to_accelerometer-13]: started with pid [1854799]
process[car_to_gps-14]: started with pid [1854830]
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING STOP NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Obstacle stationary ahead
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting steady motion
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

----------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
*********************************

corrida 30: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/643f6a80-c966-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1856316.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:41547/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1856347]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 643f6a80-c966-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1856380]
started core service [/rosout]
process[webots-2]: started with pid [1856383]
process[lane_detector-3]: started with pid [1856384]
process[obstacle_detector-4]: started with pid [1856392]
process[behaviors-5]: started with pid [1856403]
process[crash_detector-6]: started with pid [1856414]
process[stop-7]: started with pid [1856429]
process[lane_identification-8]: started with pid [1856437]
process[latent_collision_detector-9]: started with pid [1856457]
process[car_to_lidar-10]: started with pid [1856486]
process[car_to_camera-11]: started with pid [1856524]
process[car_to_gyro-12]: started with pid [1856556]
process[car_to_accelerometer-13]: started with pid [1856575]
process[car_to_gps-14]: started with pid [1856599]
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

--------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

***************************************
corrida 31: funciono

roslaunch counterfactuals straight.launch world:=straight_road_right max_speed:=30
... logging to /home/robocup/.ros/log/95b90958-c967-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1858164.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:34129/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1858195]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 95b90958-c967-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1858228]
started core service [/rosout]
process[webots-2]: started with pid [1858231]
process[lane_detector-3]: started with pid [1858232]
process[obstacle_detector-4]: started with pid [1858239]
process[behaviors-5]: started with pid [1858251]
process[crash_detector-6]: started with pid [1858262]
process[stop-7]: started with pid [1858276]
process[lane_identification-8]: started with pid [1858295]
process[latent_collision_detector-9]: started with pid [1858315]
process[car_to_lidar-10]: started with pid [1858349]
process[car_to_camera-11]: started with pid [1858375]
process[car_to_gyro-12]: started with pid [1858404]
process[car_to_accelerometer-13]: started with pid [1858429]
process[car_to_gps-14]: started with pid [1858459]
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
INITIALIZING LATENT_COLLISION_DETECTOR...
Waiting for lane detection...
Obstacle stationary ahead
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting change lane on left
Aborting changing lane 210 True True
Starting steady motion
Starting change lane on left
Moving to right to align with left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Change lane on left finished
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Starting change lane on right
Moving to left to align with right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Latent collision while changing to right on right lane
Change lane on right finished
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

---------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=4 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=4.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision True {'curr_lane': True, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision False {'curr_lane': True, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': True, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
********************************


