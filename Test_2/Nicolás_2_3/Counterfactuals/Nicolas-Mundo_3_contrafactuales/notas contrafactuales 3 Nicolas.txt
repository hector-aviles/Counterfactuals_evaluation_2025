corrida 1: choco con el auto amarillo
roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/6ba0b6a2-c980-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1922753.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:33991/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1922784]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 6ba0b6a2-c980-11ef-adc8-39205c988c9a

process[rosout-1]: started with pid [1922817]
started core service [/rosout]
process[webots-2]: started with pid [1922820]
process[lane_detector-3]: started with pid [1922824]
process[obstacle_detector-4]: started with pid [1922831]
process[behaviors-5]: started with pid [1922839]
process[crash_detector-6]: started with pid [1922847]
process[stop-7]: started with pid [1922858]
process[lane_identification-8]: started with pid [1922871]
process[latent_collision_detector-9]: started with pid [1922889]
process[car_to_lidar-10]: started with pid [1922912]
process[car_to_camera-11]: started with pid [1922941]
process[car_to_gyro-12]: started with pid [1922968]
process[car_to_accelerometer-13]: started with pid [1923004]
process[car_to_gps-14]: started with pid [1923036]
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING STOP NODE...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting steady motion
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle stationary ahead
Crash detected accel diff =  255.4231163077035
STOP: Starting system shutdown...
Crash detected accel diff =  155.4605512867322
Crash detected accel diff =  166.4000619171703
killing /policy
killed
killing /logger
killed
killing /behaviors
shutdown request: user request
killed
[behaviors-5] process has finished cleanly
log file: /home/robocup/.ros/log/6ba0b6a2-c980-11ef-adc8-39205c988c9a/behaviors-5*.log
killing /lane_detector
shutdown request: user request
killed
[lane_detector-3] process has finished cleanly
log file: /home/robocup/.ros/log/6ba0b6a2-c980-11ef-adc8-39205c988c9a/lane_detector-3*.log
killing /lane_identification
shutdown request: user request
killed
[lane_identification-8] process has finished cleanly
log file: /home/robocup/.ros/log/6ba0b6a2-c980-11ef-adc8-39205c988c9a/lane_identification-8*.log
ERROR: Unknown node(s):
 * /lane_tracking_control_P
killing /obstacle_detector
shutdown request: user request
killed
[obstacle_detector-4] process has finished cleanly
log file: /home/robocup/.ros/log/6ba0b6a2-c980-11ef-adc8-39205c988c9a/obstacle_detector-4*.log
killing /crash_detector
shutdown request: user request
killed
[crash_detector-6] process has finished cleanly
log file: /home/robocup/.ros/log/6ba0b6a2-c980-11ef-adc8-39205c988c9a/crash_detector-6*.log
killing /latent_collision_detector
shutdown request: user request
killed
[latent_collision_detector-9] process has finished cleanly
log file: /home/robocup/.ros/log/6ba0b6a2-c980-11ef-adc8-39205c988c9a/latent_collision_detector-9*.log
STOP: System shutdown finished.killing /stop
shutdown request: user request
killed
[stop-7] process has finished cleanly
log file: /home/robocup/.ros/log/6ba0b6a2-c980-11ef-adc8-39205c988c9a/stop-7*.log
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

------------------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
shutdown request: user request
****************************************

corrida 2: no choco, pero no se incorporo al lado derecho
roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/3f5b0622-c982-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1924996.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:37959/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1925027]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 3f5b0622-c982-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1925060]
started core service [/rosout]
process[webots-2]: started with pid [1925063]
process[lane_detector-3]: started with pid [1925068]
process[obstacle_detector-4]: started with pid [1925073]
process[behaviors-5]: started with pid [1925084]
process[crash_detector-6]: started with pid [1925096]
process[stop-7]: started with pid [1925107]
process[lane_identification-8]: started with pid [1925124]
process[latent_collision_detector-9]: started with pid [1925145]
process[car_to_lidar-10]: started with pid [1925172]
process[car_to_camera-11]: started with pid [1925198]
process[car_to_gyro-12]: started with pid [1925221]
process[car_to_accelerometer-13]: started with pid [1925248]
process[car_to_gps-14]: started with pid [1925287]
INITIALIZING STOP NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
*************************************************************************

corrida 3: no choco pero no se incorporo al carril derecho
roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/0140b9f8-c988-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1927927.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:44313/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1927958]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 0140b9f8-c988-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1927991]
started core service [/rosout]
process[webots-2]: started with pid [1927994]
process[lane_detector-3]: started with pid [1927995]
process[obstacle_detector-4]: started with pid [1928003]
process[behaviors-5]: started with pid [1928015]
process[crash_detector-6]: started with pid [1928026]
process[stop-7]: started with pid [1928036]
process[lane_identification-8]: started with pid [1928049]
process[latent_collision_detector-9]: started with pid [1928070]
process[car_to_lidar-10]: started with pid [1928091]
process[car_to_camera-11]: started with pid [1928123]
process[car_to_gyro-12]: started with pid [1928153]
process[car_to_accelerometer-13]: started with pid [1928169]
process[car_to_gps-14]: started with pid [1928196]
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[behaviors-5] killing on exit
[crash_detector-6] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
**************************************

corrida 4: choco con el auto amarillo

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/af9ad680-c98a-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1929871.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:37727/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1929902]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to af9ad680-c98a-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1929935]
started core service [/rosout]
process[webots-2]: started with pid [1929938]
process[lane_detector-3]: started with pid [1929943]
process[obstacle_detector-4]: started with pid [1929950]
process[behaviors-5]: started with pid [1929958]
process[crash_detector-6]: started with pid [1929972]
process[stop-7]: started with pid [1929987]
process[lane_identification-8]: started with pid [1930004]
process[latent_collision_detector-9]: started with pid [1930028]
process[car_to_lidar-10]: started with pid [1930052]
process[car_to_camera-11]: started with pid [1930086]
process[car_to_gyro-12]: started with pid [1930109]
process[car_to_accelerometer-13]: started with pid [1930140]
process[car_to_gps-14]: started with pid [1930159]
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING CRASH_DETECTOR...
INITIALIZING STOP NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting steady motion
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Crash detected accel diff =  117.84532978084033
STOP: Starting system shutdown...
killing /policy
killed
killing /logger
killed
killing /behaviors
shutdown request: user request
killed
[behaviors-5] process has finished cleanly
log file: /home/robocup/.ros/log/af9ad680-c98a-11ef-adc8-39205c988c9a/behaviors-5*.log
killing /lane_detector
shutdown request: user request
killed
[lane_detector-3] process has finished cleanly
log file: /home/robocup/.ros/log/af9ad680-c98a-11ef-adc8-39205c988c9a/lane_detector-3*.log
Crash detected accel diff =  122.29614777051631
killing /lane_identification
shutdown request: user request
killed
[lane_identification-8] process has finished cleanly
log file: /home/robocup/.ros/log/af9ad680-c98a-11ef-adc8-39205c988c9a/lane_identification-8*.log
ERROR: Unknown node(s):
 * /lane_tracking_control_P
killing /obstacle_detector
shutdown request: user request
Crash detected accel diff =  216.23591065351113
Crash detected accel diff =  214.4760774780617
killed
[obstacle_detector-4] process has finished cleanly
log file: /home/robocup/.ros/log/af9ad680-c98a-11ef-adc8-39205c988c9a/obstacle_detector-4*.log
killing /crash_detector
shutdown request: user request
killed
[crash_detector-6] process has finished cleanly
log file: /home/robocup/.ros/log/af9ad680-c98a-11ef-adc8-39205c988c9a/crash_detector-6*.log
killing /latent_collision_detector
shutdown request: user request
killed
[latent_collision_detector-9] process has finished cleanly
log file: /home/robocup/.ros/log/af9ad680-c98a-11ef-adc8-39205c988c9a/latent_collision_detector-9*.log
STOP: System shutdown finished.killing /stop
shutdown request: user request
killed
[stop-7] process has finished cleanly
log file: /home/robocup/.ros/log/af9ad680-c98a-11ef-adc8-39205c988c9a/stop-7*.log
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-----------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
shutdown request: user request
Traceback (most recent call last):
  File "/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/scripts/MLP_WhatIf.py", line 481, in <module>
    main(speed_left=speed_left, speed_right=speed_right, MLP_path=MLP_path, counterfactuals_path=counterfactuals_path, counterfactual_choices_path=counterfactual_choices_path)
  File "/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/scripts/MLP_WhatIf.py", line 337, in main
    pub_policy_started.publish()
  File "/opt/ros/noetic/lib/python3/dist-packages/rospy/topics.py", line 882, in publish
    self.impl.publish(data)
  File "/opt/ros/noetic/lib/python3/dist-packages/rospy/topics.py", line 1041, in publish
    raise ROSException("publish() to a closed topic")
rospy.exceptions.ROSException: publish() to a closed topic
************************************************************************

corrida 5: no choco pero no se incorporo al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/2a7d77ea-c98b-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1931943.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:34301/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1931974]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 2a7d77ea-c98b-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1932007]
started core service [/rosout]
process[webots-2]: started with pid [1932012]
process[lane_detector-3]: started with pid [1932015]
process[obstacle_detector-4]: started with pid [1932019]
process[behaviors-5]: started with pid [1932028]
process[crash_detector-6]: started with pid [1932042]
process[stop-7]: started with pid [1932057]
process[lane_identification-8]: started with pid [1932067]
process[latent_collision_detector-9]: started with pid [1932087]
process[car_to_lidar-10]: started with pid [1932109]
process[car_to_camera-11]: started with pid [1932146]
process[car_to_gyro-12]: started with pid [1932175]
process[car_to_accelerometer-13]: started with pid [1932204]
process[car_to_gps-14]: started with pid [1932240]
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[ERROR] [1735878553.021366]: bad callback: <function callback_rgb_image at 0x7f3d4e9aaf70>
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/python3/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/scripts/lane_detector_canny_hough.py", line 126, in callback_rgb_image
    lines = cv2.HoughLinesP(canny, 2, numpy.pi/180, 80, minLineLength=80, maxLineGap=100)[:,0]
TypeError: 'NoneType' object is not subscriptable

[ERROR] [1735878553.055307]: bad callback: <function callback_rgb_image at 0x7f3d4e9aaf70>
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/python3/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/scripts/lane_detector_canny_hough.py", line 126, in callback_rgb_image
    lines = cv2.HoughLinesP(canny, 2, numpy.pi/180, 80, minLineLength=80, maxLineGap=100)[:,0]
TypeError: 'NoneType' object is not subscriptable

[ERROR] [1735878553.098448]: bad callback: <function callback_rgb_image at 0x7f3d4e9aaf70>
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/python3/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/scripts/lane_detector_canny_hough.py", line 126, in callback_rgb_image
    lines = cv2.HoughLinesP(canny, 2, numpy.pi/180, 80, minLineLength=80, maxLineGap=100)[:,0]
TypeError: 'NoneType' object is not subscriptable

[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done
--------------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

*********************************************************

corrida 6: no choco pero no se incorporo al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/35742d3a-c98e-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1933923.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:43963/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1933954]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 35742d3a-c98e-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1933987]
started core service [/rosout]
process[webots-2]: started with pid [1933990]
process[lane_detector-3]: started with pid [1933991]
process[obstacle_detector-4]: started with pid [1934002]
process[behaviors-5]: started with pid [1934009]
process[crash_detector-6]: started with pid [1934017]
process[stop-7]: started with pid [1934033]
process[lane_identification-8]: started with pid [1934047]
process[latent_collision_detector-9]: started with pid [1934064]
process[car_to_lidar-10]: started with pid [1934086]
process[car_to_camera-11]: started with pid [1934120]
process[car_to_gyro-12]: started with pid [1934148]
process[car_to_accelerometer-13]: started with pid [1934178]
process[car_to_gps-14]: started with pid [1934220]
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING STOP NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-----------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

***********************************************

corrida 7: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/09bcf8a2-c9a7-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1937572.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:38121/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1937603]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 09bcf8a2-c9a7-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1937636]
started core service [/rosout]
process[webots-2]: started with pid [1937639]
process[lane_detector-3]: started with pid [1937644]
process[obstacle_detector-4]: started with pid [1937651]
process[behaviors-5]: started with pid [1937660]
process[crash_detector-6]: started with pid [1937673]
process[stop-7]: started with pid [1937686]
process[lane_identification-8]: started with pid [1937707]
process[latent_collision_detector-9]: started with pid [1937731]
process[car_to_lidar-10]: started with pid [1937755]
process[car_to_camera-11]: started with pid [1937787]
process[car_to_gyro-12]: started with pid [1937808]
process[car_to_accelerometer-13]: started with pid [1937830]
process[car_to_gps-14]: started with pid [1937862]
INITIALIZING CRASH_DETECTOR...
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

--------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': False, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

corrida 8: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/3cc76f48-c9a7-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1939334.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:43795/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1939365]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 3cc76f48-c9a7-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1939398]
started core service [/rosout]
process[webots-2]: started with pid [1939401]
process[lane_detector-3]: started with pid [1939405]
process[obstacle_detector-4]: started with pid [1939407]
process[behaviors-5]: started with pid [1939418]
process[crash_detector-6]: started with pid [1939424]
process[stop-7]: started with pid [1939440]
process[lane_identification-8]: started with pid [1939453]
process[latent_collision_detector-9]: started with pid [1939468]
process[car_to_lidar-10]: started with pid [1939488]
process[car_to_camera-11]: started with pid [1939511]
process[car_to_gyro-12]: started with pid [1939543]
process[car_to_accelerometer-13]: started with pid [1939579]
process[car_to_gps-14]: started with pid [1939625]
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

----------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

corrida 9: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/783cafe8-c9a7-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1941104.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:38827/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1941135]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 783cafe8-c9a7-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1941168]
started core service [/rosout]
process[webots-2]: started with pid [1941171]
process[lane_detector-3]: started with pid [1941175]
process[obstacle_detector-4]: started with pid [1941180]
process[behaviors-5]: started with pid [1941191]
process[crash_detector-6]: started with pid [1941201]
process[stop-7]: started with pid [1941215]
process[lane_identification-8]: started with pid [1941224]
process[latent_collision_detector-9]: started with pid [1941243]
process[car_to_lidar-10]: started with pid [1941265]
process[car_to_camera-11]: started with pid [1941296]
process[car_to_gyro-12]: started with pid [1941317]
process[car_to_accelerometer-13]: started with pid [1941347]
process[car_to_gps-14]: started with pid [1941385]
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING STOP NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING CRASH_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

------------------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
*************************************************************

corrida 10: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/b58a4b76-c9a7-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1942869.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:45141/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1942900]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to b58a4b76-c9a7-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1942933]
started core service [/rosout]
process[webots-2]: started with pid [1942936]
process[lane_detector-3]: started with pid [1942940]
process[obstacle_detector-4]: started with pid [1942948]
process[behaviors-5]: started with pid [1942958]
process[crash_detector-6]: started with pid [1942967]
process[stop-7]: started with pid [1942982]
process[lane_identification-8]: started with pid [1942999]
process[latent_collision_detector-9]: started with pid [1943022]
process[car_to_lidar-10]: started with pid [1943049]
process[car_to_camera-11]: started with pid [1943073]
process[car_to_gyro-12]: started with pid [1943106]
process[car_to_accelerometer-13]: started with pid [1943124]
process[car_to_gps-14]: started with pid [1943148]
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING STOP NODE...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

----------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
***********************************************************

corrida 11: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/edb5ccf0-c9a7-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1944635.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:37125/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1944666]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to edb5ccf0-c9a7-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1944699]
started core service [/rosout]
process[webots-2]: started with pid [1944702]
process[lane_detector-3]: started with pid [1944707]
process[obstacle_detector-4]: started with pid [1944714]
process[behaviors-5]: started with pid [1944718]
process[crash_detector-6]: started with pid [1944730]
process[stop-7]: started with pid [1944743]
process[lane_identification-8]: started with pid [1944759]
process[latent_collision_detector-9]: started with pid [1944779]
process[car_to_lidar-10]: started with pid [1944798]
process[car_to_camera-11]: started with pid [1944825]
process[car_to_gyro-12]: started with pid [1944848]
process[car_to_accelerometer-13]: started with pid [1944867]
process[car_to_gps-14]: started with pid [1944908]
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING STOP NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING CRASH_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

------------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
****************************************************

corrida 12: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/8f1534aa-c9a8-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1946431.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:41661/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1946462]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 8f1534aa-c9a8-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1946495]
started core service [/rosout]
process[webots-2]: started with pid [1946498]
process[lane_detector-3]: started with pid [1946499]
process[obstacle_detector-4]: started with pid [1946505]
process[behaviors-5]: started with pid [1946519]
process[crash_detector-6]: started with pid [1946524]
process[stop-7]: started with pid [1946540]
process[lane_identification-8]: started with pid [1946553]
process[latent_collision_detector-9]: started with pid [1946573]
process[car_to_lidar-10]: started with pid [1946633]
process[car_to_camera-11]: started with pid [1946666]
process[car_to_gyro-12]: started with pid [1946690]
process[car_to_accelerometer-13]: started with pid [1946716]
process[car_to_gps-14]: started with pid [1946746]
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING CRASH_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-----------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
**************************************************

corrida 13: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/bd513800-c9a8-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1948184.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:43011/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1948215]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to bd513800-c9a8-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1948248]
started core service [/rosout]
process[webots-2]: started with pid [1948251]
process[lane_detector-3]: started with pid [1948256]
process[obstacle_detector-4]: started with pid [1948263]
process[behaviors-5]: started with pid [1948269]
process[crash_detector-6]: started with pid [1948282]
process[stop-7]: started with pid [1948291]
process[lane_identification-8]: started with pid [1948308]
process[latent_collision_detector-9]: started with pid [1948323]
process[car_to_lidar-10]: started with pid [1948345]
process[car_to_camera-11]: started with pid [1948379]
process[car_to_gyro-12]: started with pid [1948409]
process[car_to_accelerometer-13]: started with pid [1948449]
process[car_to_gps-14]: started with pid [1948479]
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
***************************************

corrida 14: no choco pero no se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/4aba2c6c-c9ac-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1950193.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:33621/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1950224]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 4aba2c6c-c9ac-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1950258]
started core service [/rosout]
process[webots-2]: started with pid [1950261]
process[lane_detector-3]: started with pid [1950262]
process[obstacle_detector-4]: started with pid [1950272]
process[behaviors-5]: started with pid [1950282]
process[crash_detector-6]: started with pid [1950294]
process[stop-7]: started with pid [1950306]
process[lane_identification-8]: started with pid [1950316]
process[latent_collision_detector-9]: started with pid [1950334]
process[car_to_lidar-10]: started with pid [1950367]
process[car_to_camera-11]: started with pid [1950396]
process[car_to_gyro-12]: started with pid [1950421]
process[car_to_accelerometer-13]: started with pid [1950455]
process[car_to_gps-14]: started with pid [1950499]
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

----------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
*****************************************

corrida 15: no choco pero tampoco se cambio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/7ea4e12a-c9ac-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1951958.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:36503/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1951989]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 7ea4e12a-c9ac-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1952022]
started core service [/rosout]
process[webots-2]: started with pid [1952025]
process[lane_detector-3]: started with pid [1952029]
process[obstacle_detector-4]: started with pid [1952037]
process[behaviors-5]: started with pid [1952046]
process[crash_detector-6]: started with pid [1952055]
process[stop-7]: started with pid [1952071]
process[lane_identification-8]: started with pid [1952077]
process[latent_collision_detector-9]: started with pid [1952093]
process[car_to_lidar-10]: started with pid [1952109]
process[car_to_camera-11]: started with pid [1952130]
process[car_to_gyro-12]: started with pid [1952159]
process[car_to_accelerometer-13]: started with pid [1952189]
process[car_to_gps-14]: started with pid [1952233]
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING STOP NODE...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting follow car
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
*******************************************
corrida 16: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/c83ace9e-c9ac-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1953724.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:38625/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1953755]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to c83ace9e-c9ac-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1953788]
started core service [/rosout]
process[webots-2]: started with pid [1953791]
process[lane_detector-3]: started with pid [1953796]
process[obstacle_detector-4]: started with pid [1953803]
process[behaviors-5]: started with pid [1953812]
process[crash_detector-6]: started with pid [1953825]
process[stop-7]: started with pid [1953839]
process[lane_identification-8]: started with pid [1953851]
process[latent_collision_detector-9]: started with pid [1953878]
process[car_to_lidar-10]: started with pid [1953904]
process[car_to_camera-11]: started with pid [1953936]
process[car_to_gyro-12]: started with pid [1953961]
process[car_to_accelerometer-13]: started with pid [1953984]
process[car_to_gps-14]: started with pid [1954012]
INITIALIZING CRASH_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

--------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise

********************************************

corrida 17: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/f8900136-c9ac-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1955480.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:33041/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1955511]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to f8900136-c9ac-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1955544]
started core service [/rosout]
process[webots-2]: started with pid [1955547]
process[lane_detector-3]: started with pid [1955548]
process[obstacle_detector-4]: started with pid [1955559]
process[behaviors-5]: started with pid [1955562]
process[crash_detector-6]: started with pid [1955573]
process[stop-7]: started with pid [1955587]
process[lane_identification-8]: started with pid [1955603]
process[latent_collision_detector-9]: started with pid [1955621]
process[car_to_lidar-10]: started with pid [1955645]
process[car_to_camera-11]: started with pid [1955664]
process[car_to_gyro-12]: started with pid [1955692]
process[car_to_accelerometer-13]: started with pid [1955734]
process[car_to_gps-14]: started with pid [1955770]
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done
home/robocup/.ros/log/f8900136-c9ac-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1955480.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:33041/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1955511]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to f8900136-c9ac-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1955544]
started core service [/rosout]
process[webots-2]: started with pid [1955547]
process[lane_detector-3]: started with pid [1955548]
process[obstacle_detector-4]: started with pid [1955559]
process[behaviors-5]: started with pid [1955562]
process[crash_detector-6]: started with pid [1955573]
process[stop-7]: started with pid [1955587]
process[lane_identification-8]: started with pid [1955603]
process[latent_collision_detector-9]: started with pid [1955621]
process[car_to_lidar-10]: started with pid [1955645]
process[car_to_camera-11]: started with pid [1955664]
process[car_to_gyro-12]: started with pid [1955692]
process[car_to_accelerometer-13]: started with pid [1955734]
process[car_to_gps-14]: started with pid [1955770]
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-----------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
*************************************

corrida 18: no choco pero tampoco se movio al carril derecho 
roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/3b01160e-c9ad-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1957246.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:33151/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1957277]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 3b01160e-c9ad-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1957311]
started core service [/rosout]
process[webots-2]: started with pid [1957314]
process[lane_detector-3]: started with pid [1957315]
process[obstacle_detector-4]: started with pid [1957326]
process[behaviors-5]: started with pid [1957330]
process[crash_detector-6]: started with pid [1957338]
process[stop-7]: started with pid [1957356]
process[lane_identification-8]: started with pid [1957363]
process[latent_collision_detector-9]: started with pid [1957384]
process[car_to_lidar-10]: started with pid [1957401]
process[car_to_camera-11]: started with pid [1957430]
process[car_to_gyro-12]: started with pid [1957456]
process[car_to_accelerometer-13]: started with pid [1957485]
process[car_to_gps-14]: started with pid [1957523]
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-----------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': False, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
**************************************************

corrida 19: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/71943c00-c9ad-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1959009.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:40931/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1959040]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 71943c00-c9ad-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1959073]
started core service [/rosout]
process[webots-2]: started with pid [1959076]
process[lane_detector-3]: started with pid [1959078]
process[obstacle_detector-4]: started with pid [1959082]
process[behaviors-5]: started with pid [1959090]
process[crash_detector-6]: started with pid [1959100]
process[stop-7]: started with pid [1959108]
process[lane_identification-8]: started with pid [1959122]
process[latent_collision_detector-9]: started with pid [1959134]
process[car_to_lidar-10]: started with pid [1959150]
process[car_to_camera-11]: started with pid [1959175]
process[car_to_gyro-12]: started with pid [1959193]
process[car_to_accelerometer-13]: started with pid [1959233]
process[car_to_gps-14]: started with pid [1959282]
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING STOP NODE...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
************************************

corrida 20: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/b9f649c0-c9ad-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1960777.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:39123/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1960808]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to b9f649c0-c9ad-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1960841]
started core service [/rosout]
process[webots-2]: started with pid [1960844]
process[lane_detector-3]: started with pid [1960846]
process[obstacle_detector-4]: started with pid [1960856]
process[behaviors-5]: started with pid [1960864]
process[crash_detector-6]: started with pid [1960873]
process[stop-7]: started with pid [1960886]
process[lane_identification-8]: started with pid [1960901]
process[latent_collision_detector-9]: started with pid [1960918]
process[car_to_lidar-10]: started with pid [1960953]
process[car_to_camera-11]: started with pid [1960982]
process[car_to_gyro-12]: started with pid [1961009]
process[car_to_accelerometer-13]: started with pid [1961038]
process[car_to_gps-14]: started with pid [1961067]
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

--------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': False, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
***********************************************

corrida 21: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/f017f5bc-c9ad-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1962541.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:33175/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1962572]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to f017f5bc-c9ad-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1962605]
started core service [/rosout]
process[webots-2]: started with pid [1962608]
process[lane_detector-3]: started with pid [1962609]
process[obstacle_detector-4]: started with pid [1962620]
process[behaviors-5]: started with pid [1962630]
process[crash_detector-6]: started with pid [1962641]
process[stop-7]: started with pid [1962655]
process[lane_identification-8]: started with pid [1962668]
process[latent_collision_detector-9]: started with pid [1962695]
process[car_to_lidar-10]: started with pid [1962724]
process[car_to_camera-11]: started with pid [1962754]
process[car_to_gyro-12]: started with pid [1962777]
process[car_to_accelerometer-13]: started with pid [1962812]
process[car_to_gps-14]: started with pid [1962846]
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING STOP NODE...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

----------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
******************************************

corrida 22: choco con el auto amarillo

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/25192272-c9ae-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1964303.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:37369/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1964334]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 25192272-c9ae-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1964367]
started core service [/rosout]
process[webots-2]: started with pid [1964370]
process[lane_detector-3]: started with pid [1964374]
process[obstacle_detector-4]: started with pid [1964383]
process[behaviors-5]: started with pid [1964393]
process[crash_detector-6]: started with pid [1964402]
process[stop-7]: started with pid [1964417]
process[lane_identification-8]: started with pid [1964431]
process[latent_collision_detector-9]: started with pid [1964445]
process[car_to_lidar-10]: started with pid [1964469]
process[car_to_camera-11]: started with pid [1964506]
process[car_to_gyro-12]: started with pid [1964524]
process[car_to_accelerometer-13]: started with pid [1964543]
process[car_to_gps-14]: started with pid [1964560]
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INFO: cannot create a symlink to latest log directory: [Errno 2] No such file or directory: '/home/robocup/.ros/log/latest'
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Starting change lane on left
Aborting changing lane 210 True True
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Crash detected accel diff =  189.7858954182153
STOP: Starting system shutdown...
Crash detected accel diff =  146.23357690768898
Latent collision while changing to left on left lane
killing /policy
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
killed
Latent collision while changing to left on left lane
killing /logger
killed
killing /behaviors
shutdown request: user request
killed
[behaviors-5] process has finished cleanly
log file: /home/robocup/.ros/log/25192272-c9ae-11ef-adc8-39205c988c9a/behaviors-5*.log
killing /lane_detector
shutdown request: user request
Crash detected accel diff =  187.52695698585993
Crash detected accel diff =  183.95805739953104
killed
[lane_detector-3] process has finished cleanly
log file: /home/robocup/.ros/log/25192272-c9ae-11ef-adc8-39205c988c9a/lane_detector-3*.log
killing /lane_identification
shutdown request: user request
killed
[lane_identification-8] process has finished cleanly
log file: /home/robocup/.ros/log/25192272-c9ae-11ef-adc8-39205c988c9a/lane_identification-8*.log
ERROR: Unknown node(s):
 * /lane_tracking_control_P
killing /obstacle_detector
shutdown request: user request
killed
[obstacle_detector-4] process has finished cleanly
log file: /home/robocup/.ros/log/25192272-c9ae-11ef-adc8-39205c988c9a/obstacle_detector-4*.log
killing /crash_detector
shutdown request: user request
killed
[crash_detector-6] process has finished cleanly
log file: /home/robocup/.ros/log/25192272-c9ae-11ef-adc8-39205c988c9a/crash_detector-6*.log
killing /latent_collision_detector
shutdown request: user request
killed
[latent_collision_detector-9] process has finished cleanly
log file: /home/robocup/.ros/log/25192272-c9ae-11ef-adc8-39205c988c9a/latent_collision_detector-9*.log
STOP: System shutdown finished.killing /stop
shutdown request: user request
killed
[stop-7] process has finished cleanly
log file: /home/robocup/.ros/log/25192272-c9ae-11ef-adc8-39205c988c9a/stop-7*.log
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

--------------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': False} abort= True MLP action=change_to_left
Waiting for the action change_to_left to finish... shutdown request: user request
***************************************************

corrida 23: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/509188ea-c9ae-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1966352.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:33105/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1966383]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 509188ea-c9ae-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1966416]
started core service [/rosout]
process[webots-2]: started with pid [1966419]
process[lane_detector-3]: started with pid [1966420]
process[obstacle_detector-4]: started with pid [1966431]
process[behaviors-5]: started with pid [1966436]
process[crash_detector-6]: started with pid [1966449]
process[stop-7]: started with pid [1966463]
process[lane_identification-8]: started with pid [1966480]
process[latent_collision_detector-9]: started with pid [1966497]
process[car_to_lidar-10]: started with pid [1966514]
process[car_to_camera-11]: started with pid [1966539]
process[car_to_gyro-12]: started with pid [1966563]
process[car_to_accelerometer-13]: started with pid [1966600]
process[car_to_gps-14]: started with pid [1966665]
INITIALIZING CRASH_DETECTOR...
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Starting follow car
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-------------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
************************************************************

corrida 24: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/808b89ce-c9ae-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1968111.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:37849/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1968142]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 808b89ce-c9ae-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1968175]
started core service [/rosout]
process[webots-2]: started with pid [1968178]
process[lane_detector-3]: started with pid [1968179]
process[obstacle_detector-4]: started with pid [1968190]
process[behaviors-5]: started with pid [1968196]
process[crash_detector-6]: started with pid [1968207]
process[stop-7]: started with pid [1968220]
process[lane_identification-8]: started with pid [1968229]
process[latent_collision_detector-9]: started with pid [1968241]
process[car_to_lidar-10]: started with pid [1968255]
process[car_to_camera-11]: started with pid [1968274]
process[car_to_gyro-12]: started with pid [1968298]
process[car_to_accelerometer-13]: started with pid [1968330]
process[car_to_gps-14]: started with pid [1968369]
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING STOP NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting steady motion
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

------------------------------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
*************************************************

corrida 25: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/b1e410e0-c9ae-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1969868.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:46199/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1969899]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to b1e410e0-c9ae-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1969932]
started core service [/rosout]
process[webots-2]: started with pid [1969935]
process[lane_detector-3]: started with pid [1969936]
process[obstacle_detector-4]: started with pid [1969940]
process[behaviors-5]: started with pid [1969955]
process[crash_detector-6]: started with pid [1969959]
process[stop-7]: started with pid [1969970]
process[lane_identification-8]: started with pid [1969984]
process[latent_collision_detector-9]: started with pid [1969997]
process[car_to_lidar-10]: started with pid [1970014]
process[car_to_camera-11]: started with pid [1970037]
process[car_to_gyro-12]: started with pid [1970057]
process[car_to_accelerometer-13]: started with pid [1970087]
process[car_to_gps-14]: started with pid [1970123]
INITIALIZING STOP NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[crash_detector-6] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[latent_collision_detector-9] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

---------------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
*******************************************************

corrida 26: no choco pero tampoco se cambio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/ddfe1338-c9ae-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1971624.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:41327/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1971655]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to ddfe1338-c9ae-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1971688]
started core service [/rosout]
process[webots-2]: started with pid [1971691]
process[lane_detector-3]: started with pid [1971695]
process[obstacle_detector-4]: started with pid [1971704]
process[behaviors-5]: started with pid [1971714]
process[crash_detector-6]: started with pid [1971726]
process[stop-7]: started with pid [1971740]
process[lane_identification-8]: started with pid [1971760]
process[latent_collision_detector-9]: started with pid [1971786]
process[car_to_lidar-10]: started with pid [1971815]
process[car_to_camera-11]: started with pid [1971847]
process[car_to_gyro-12]: started with pid [1971866]
process[car_to_accelerometer-13]: started with pid [1971896]
process[car_to_gps-14]: started with pid [1971921]
INITIALIZING CRASH_DETECTOR...
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-----------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': False, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
****************************************************

corrida 27: no choco pero tampoco se cambio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/0e6aa770-c9af-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1973384.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:34455/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1973415]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 0e6aa770-c9af-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1973448]
started core service [/rosout]
process[webots-2]: started with pid [1973451]
process[lane_detector-3]: started with pid [1973455]
process[obstacle_detector-4]: started with pid [1973464]
process[behaviors-5]: started with pid [1973472]
process[crash_detector-6]: started with pid [1973485]
process[stop-7]: started with pid [1973496]
process[lane_identification-8]: started with pid [1973516]
process[latent_collision_detector-9]: started with pid [1973542]
process[car_to_lidar-10]: started with pid [1973570]
process[car_to_camera-11]: started with pid [1973602]
process[car_to_gyro-12]: started with pid [1973630]
process[car_to_accelerometer-13]: started with pid [1973657]
process[car_to_gps-14]: started with pid [1973678]
INITIALIZING STOP NODE...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING CRASH_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

----------------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
*******************************************************

corrida 28: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/3c03ee44-c9af-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1975151.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:34907/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1975182]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 3c03ee44-c9af-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1975215]
started core service [/rosout]
process[webots-2]: started with pid [1975218]
process[lane_detector-3]: started with pid [1975219]
process[obstacle_detector-4]: started with pid [1975223]
process[behaviors-5]: started with pid [1975234]
process[crash_detector-6]: started with pid [1975242]
process[stop-7]: started with pid [1975254]
process[lane_identification-8]: started with pid [1975272]
process[latent_collision_detector-9]: started with pid [1975289]
process[car_to_lidar-10]: started with pid [1975308]
process[car_to_camera-11]: started with pid [1975345]
process[car_to_gyro-12]: started with pid [1975368]
process[car_to_accelerometer-13]: started with pid [1975402]
process[car_to_gps-14]: started with pid [1975437]
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting steady motion
Latent collision while changing to left on left lane
Latent collision while changing to left on left lane
Starting change lane on left
Aborting changing lane 210 True True
Latent collision while changing to left on left lane
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

-----------------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': False, 'free_W': True} abort= True MLP action=change_to_left
Waiting for the action change_to_left to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
***************************************************

corrida 29: no choco pero tampoco se cambio de carril al derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/6b61ae9c-c9af-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1976906.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:39761/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1976937]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 6b61ae9c-c9af-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1976970]
started core service [/rosout]
process[webots-2]: started with pid [1976973]
process[lane_detector-3]: started with pid [1976978]
process[obstacle_detector-4]: started with pid [1976985]
process[behaviors-5]: started with pid [1976996]
process[crash_detector-6]: started with pid [1977007]
process[stop-7]: started with pid [1977023]
process[lane_identification-8]: started with pid [1977043]
process[latent_collision_detector-9]: started with pid [1977066]
process[car_to_lidar-10]: started with pid [1977090]
process[car_to_camera-11]: started with pid [1977119]
process[car_to_gyro-12]: started with pid [1977145]
process[car_to_accelerometer-13]: started with pid [1977166]
process[car_to_gps-14]: started with pid [1977191]
INITIALIZING CRASH_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING STOP NODE...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

--------------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': True, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
***************************************************************

corrida 30: no choco pero tampoco se movio al carril derecho

roslaunch counterfactuals straight.launch world:=turn_to_right max_speed:=30
... logging to /home/robocup/.ros/log/98cb1de6-c9af-11ef-adc8-39205c988c9a/roslaunch-KatyPerry-1978662.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://KatyPerry:39755/

SUMMARY
========

PARAMETERS
 * /behaviors/dist_to_car: 15
 * /behaviors/k_following: 10
 * /behaviors/max_speed: 30
 * /rosdistro: noetic
 * /rosversion: 1.17.0

NODES
  /
    behaviors (counterfactuals/behaviors.py)
    car_to_accelerometer (tf/static_transform_publisher)
    car_to_camera (tf/static_transform_publisher)
    car_to_gps (tf/static_transform_publisher)
    car_to_gyro (tf/static_transform_publisher)
    car_to_lidar (tf/static_transform_publisher)
    crash_detector (counterfactuals/crash_detector.py)
    lane_detector (counterfactuals/lane_detector_canny_hough.py)
    lane_identification (counterfactuals/lane_identification.py)
    latent_collision_detector (counterfactuals/latent_collision_detector.py)
    obstacle_detector (counterfactuals/obstacle_detector.py)
    stop (counterfactuals/stop.py)
    webots (webots_ros/webots_launcher.py)

auto-starting new master
process[master]: started with pid [1978693]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 98cb1de6-c9af-11ef-adc8-39205c988c9a
process[rosout-1]: started with pid [1978726]
started core service [/rosout]
process[webots-2]: started with pid [1978729]
process[lane_detector-3]: started with pid [1978733]
process[obstacle_detector-4]: started with pid [1978741]
process[behaviors-5]: started with pid [1978751]
process[crash_detector-6]: started with pid [1978762]
process[stop-7]: started with pid [1978778]
process[lane_identification-8]: started with pid [1978796]
process[latent_collision_detector-9]: started with pid [1978822]
process[car_to_lidar-10]: started with pid [1978846]
process[car_to_camera-11]: started with pid [1978880]
process[car_to_gyro-12]: started with pid [1978907]
process[car_to_accelerometer-13]: started with pid [1978933]
process[car_to_gps-14]: started with pid [1978964]
INITIALIZING STOP NODE...
INITIALIZING LATENT_COLLISION_DETECTOR...
INITIALIZING OBSTACLE DETECTOR (NOV 2024)...
INITIALIZING LANE IDENTIFICATION NODE...
INITIALIZING CRASH_DETECTOR...
INITIALIZING BEHAVIORS NODE (SEP 2024)...
INITIALIZING LANE DETECTION DEMO...
Waiting for lane detection...
Using:
Max speed: 30
K_rho: 0.001
K_theta: 0.01
K_following: 10
Dist to car: 15
Waiting for task...
Starting change lane on right
Latent collision while changing to right True False False
Aborting changing lane 210 True True
Latent collision while changing to right True False False
Starting steady motion
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Obstacle stationary ahead
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Obstacle approaching in opposite direction
Starting follow car
Obstacle approaching in opposite direction
Obstacle stationary ahead
Starting steady motion
^C[car_to_gps-14] killing on exit
[car_to_accelerometer-13] killing on exit
[car_to_gyro-12] killing on exit
[car_to_camera-11] killing on exit
[car_to_lidar-10] killing on exit
[latent_collision_detector-9] killing on exit
[lane_identification-8] killing on exit
[stop-7] killing on exit
[crash_detector-6] killing on exit
[behaviors-5] killing on exit
[ERROR] [1735894178.497806]: bad callback: <function callback_curr_pose at 0x7f020b8efca0>
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/python3/dist-packages/rospy/topics.py", line 750, in _invoke_callback
    cb(msg)
  File "/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/scripts/lane_identification.py", line 21, in callback_curr_pose
    pub_right_lane.publish(right_lane)
  File "/opt/ros/noetic/lib/python3/dist-packages/rospy/topics.py", line 882, in publish
    self.impl.publish(data)
  File "/opt/ros/noetic/lib/python3/dist-packages/rospy/topics.py", line 1041, in publish
    raise ROSException("publish() to a closed topic")
rospy.exceptions.ROSException: publish() to a closed topic

[obstacle_detector-4] killing on exit
[lane_detector-3] killing on exit
[webots-2] killing on exit
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/webots_ros/webots_launcher.py", line 81, in <module>
    subprocess.call(command)
  File "/usr/lib/python3.8/subprocess.py", line 342, in call
    return p.wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1083, in wait
    return self._wait(timeout=timeout)
  File "/usr/lib/python3.8/subprocess.py", line 1806, in _wait
    (pid, sts) = self._try_wait(0)
  File "/usr/lib/python3.8/subprocess.py", line 1764, in _try_wait
    (pid, sts) = os.waitpid(self.pid, wait_flags)
KeyboardInterrupt
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

---------------------------------------------------------

rosrun counterfactuals MLP_WhatIf.py speed_left=15 speed_right=8 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
Running with speed_left=15.0 and speed_right=8.0 MLP=MLP_10.mlp counterfactuals=counterfactuals.csv choices=counterfactuals_action_choice.csv
INITIALIZING POLICY...
/home/robocup/WhatIf-Results/catkin_ws/src/counterfactuals/decision_models/MLP_10.mlp
Publishing policy_started
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=change_to_right
Waiting for the action change_to_right to finish... Done.
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=cruise
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': True, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision True {'curr_lane': False, 'free_E': False, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=swerve_left
latent_collision True {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= False WhatIf action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': False, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=keep
latent_collision False {'curr_lane': False, 'free_E': True, 'free_NE': False, 'free_NW': True, 'free_SE': False, 'free_SW': True, 'free_W': True} abort= True MLP action=cruise
******************************************************************


